
<mat-toolbar color="primary">
  <mat-toolbar-row>
    <button mat-button align="start" style="font-size:1.5rem;" routerLink="/">Dating App</button>
    <span class="example-spacer"></span>
    <ng-container *ngIf="(accountService.currentUser$ | async) as user">
      <button mat-button align="end" routerLink="/members" routerLinkActive="activebutton">Matches</button>
      <button mat-button align="end" routerLink="/lists" routerLinkActive="activebutton">Lists</button>
      <button mat-button align="right" routerLink="/messages" routerLinkActive="activebutton">Messages</button>    
      <button mat-button *ngIf="(accountService.currentUser$ | async )" (click)="logout()" align="end">Log Out</button>
      <button mat-icon-button [matMenuTriggerFor]="menu" align="end">
        <mat-icon>more_vert</mat-icon>
      </button>
      <mat-menu #menu="matMenu" align="left">
        <span>Welcome {{ user.username | titlecase}}</span>
        <button mat-menu-item>
          <mat-icon>edit</mat-icon>
          <span>Edit Profile</span>
        </button>
        <button mat-menu-item (click)="logout()">
          <mat-icon>logout</mat-icon>
          <span>Logout</span>
        </button>
      </mat-menu>
    </ng-container>
    <ng-container *ngIf="(accountService.currentUser$  | async ) === null ">
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <input id="username" type="text" formControlName="username" required>
        <input id="password" type="password" formControlName="password" required>
        <button class="btn btn-success" type="submit" [disabled]="loginForm.invalid">Login</button>
      </form>
      <!--<form *ngIf="(accountService.currentUser$  | async ) === null " #loginForm="ngForm" class="form-inline mt-2 mt-md-0" (ngSubmit)="login()" autocomplete="off">
        <input name="username" [(ngModel)]="model.username" class="form-control me-2" type="text" placeholder="Username">
        <input name="password" [(ngModel)]="model.password" class="form-control me-2" type="password" placeholder="Password">
        <button class="btn btn-success" type="submit">Login</button>
      </form>-->
      <!--<span class="nav-tool-items">
    <a mat-button routerLink="login" routerLinkActive="active">Log in</a>
    <a mat-button mat-raised-button routerLink="register" routerLinkActive="active">Register</a>
  </span>-->
    </ng-container>
</mat-toolbar-row>

  


